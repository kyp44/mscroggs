###############################################################################
# FILE: Makefile
#
# Author: Dan Whitman
##############################################################################
TARGET = directory
BOXES = boxes.tex

.PHONY: all help tags boxes clean
TAGS=

#==============================================================================
all: boxes
#==============================================================================
	./build.py $(TAGS) > puzzles.tex
	pdflatex $(TARGET).tex

#==============================================================================
help:
#==============================================================================
	@echo "Run make with TAGS=<CSV Tags> to only include certain tags."
	@echo "Available tags and information on the puzzle sets are:"
	@./build.py -i

#==============================================================================
tags: help
#==============================================================================

#==============================================================================
boxes: 
#==============================================================================
	cd ../advent_2015/; make $(BOXES)
	cd ../advent_2016/; make $(BOXES)
	cd ../advent_2019/; make $(BOXES)
	cd ../advent_2020/; make $(BOXES)
	cd ../advent_2021/; make $(BOXES)
	cd ../advent_2022/; make $(BOXES)
	cd ../advent_2023/; make $(BOXES)
	cd ../advent_2024/; make $(BOXES)
	cd ../advent_2025/; make $(BOXES)

#==============================================================================
clean:
#==============================================================================
	rm -f *.aux *.log *.pdf *.out *.toc *.fls *.fdb_latexmk *.synctex.gz
	rm -f puzzles.tex
