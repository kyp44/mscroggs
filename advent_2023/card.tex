\documentclass{article}
\input{common/prelude}

% Macros
\input{common/macros}
\input{questions}

\begin{document}

\title{Matthew Scroggs 2023 Christmas Card Solutions}
\author{Dan Whitman}
\date{}

\maketitle

Link to the online card: \href{https://www.mscroggs.co.uk/blog/108}{https://www.mscroggs.co.uk/blog/108}

\newcommand\factorial@minus[2]{
  We can utilize the results of the \xref@advent{2023}{4}.
  In this, it was proven that the largest possible $n$ for which $(n!-a)/(n-a)$ is an integer is $n = 2a$.
  So, in our case we have $a = #1$ so that our answer is $n = 2 \cdot #1 = #2$.
}

\cproblem{1}{2}{\card@xxiii@i}{
  \factorial@minus{1}{2}
}

\cproblem{2}{88}{\card@xxiii@ii}{
  \factorial@minus{44}{88}
}

\cproblem{3}{64}{\card@xxiii@iii}{
  We can utilize the results of the \xref@advent{2023}{2}.
  It was derived there that the sum of the first $n$ even numbers plus half of the next even number is
  \gath{
    s_n = (n+1)^2
  }
  so that our answer is $s_7 = (7+1)^2 = 8^2 = 64$.
}

\cproblem{4}{94}{\card@xxiii@iv}{
  We can utilize the results of the \xref@advent{2023}{2}.
  It was derived there that, if the sum of the first $n$ even numbers plus half of the next even number is $s_n$, then
  \gath{
    n = \sqrt{s_n} - 1.
  }
  Thus, our answer is $n = \sqrt{9025}-1 = 95-1 = 94$.
}

\cproblem{5}{40}{\card@xxiii@v}{
  We can utilize the results of the \xref@card{2019}{5}.
  There it was derived that the largest quadrilateral is a square with area
  \gath{
    A = 2r^2,
  }
  where $r$ is the radius of the circle.
  In our case the circle has an area of $A_c = \pi r^2 = 20 \pi$ so that clearly $r^2 = 20$.
  Thus, the area of our square is $A = 2r^2 = 2 \cdot 20 = 40$.
}

\cproblem{6}{60}{\card@xxiii@vi}{
  We can utilize the results of the \xref@advent{2018}{2}.
  There it was derived that the largest dodecagon is that with a circumradius $r$ the same as the circle with area
  \gath{
    A_d = 3r^2,
  }
  Our circle has an area of $A_c = \pi r^2 = 20\pi$ so that clearly $r^2 = 20$.
  Hence, the area of the largest dodecagon is $A_d = 3r^2 = 3 \cdot 20 = 60$.
}

\cproblem{7}{12}{\card@xxiii@vii}{
  We can generalize this a bit.
  Let $N_d(k, n)$ denote the number of $n$-digit numbers such that all the digits are from $1$ to $d$, and one of those valid digits $1 \leq d_0 \leq d$ (which may as well be $d_0=1$ as in our case) appears exactly $n-k$ times.
  Then there are $k$ digits that must \emph{not} be $d_0$, and we can choose any of the $n$ digits to select for these.
  Hence, there are
  \gath{
    \combos{n}{k} = \binom{n}{k} = \frac{n!}{k!(n-k)!}
  }
  choices for this, i.e. the number of ways to choose $k$ items from $n$ items.
  The rest of the digits must then of course be fixed at $d_0$.
  Now, for each of the $k$ selected digits, they can each take on one of $d-1$ values independently, that is, any digit except $d_0$.
  Clearly there $(d-1)^k$ different ways to assign these.
  Hence, it is reasoned that
  \gath{
    N_d(k, n) = \binom{n}{k}(d-1)^k.
  }
  Our answer is then
  \gath{
    N_5(1, 3) = \binom{3}{1}(5-1)^1 = 4 \frac{3!}{1!2!} = 4 \cdot 3 = 12.
  }
}

\cproblem{8}{75}{\card@xxiii@viii}{
  We can use the results of the previous problem.
  There, it was derived that the number of $n$-digit numbers with this property is
  \gath{
    N_5(1, n) = \binom{n}{1}(5-1)^1 = 4 \frac{n!}{1!(n-1)!} = 4n.
  }
  Eve has worked out that $N_5(1, n) = 300 = 4n$ so that, of course, $n = 300/4 = 75$.
}

\cproblem{9}{43}{\card@xxiii@ix}{
  The last two digits of any number $n$ are of course simply $n$ modulo $100$.
  So let us examine the first few powers of $7$:
  \ali{
    7^0 &\equiv 1 \pmod{100} & 7^3 &\equiv 7 \cdot 49 \equiv 343 \equiv 43 \pmod{100} \non
    7^1 &\equiv 7 \pmod{100} & 7^4 &\equiv 7 \cdot 43 \equiv 301 \equiv 1 \pmod{100}. \non
    7^2 &\equiv 49 \pmod{100}
  }
  Clearly, beyond this, the powers of $7$ modulo $100$ will repeat in a cycle.
  Hence, the last two digits of $7^n$ are $f(n \mod 4)$ where $f$ is given by the following table.
  \begin{center}
    \begin{tabular}{cc}
      $k$ & $f(k)$ \\
      \hline
      0   & 1      \\
      1   & 7      \\
      2   & 49     \\
      3   & 43     \\
    \end{tabular}
  \end{center}
  Thus, for this problem, our answer is $f(3 \mod 4) = f(3) = 43$.
}

\cproblem{10}{49}{\card@xxiii@x}{
  Utilizing what was derived in the previous problem, our answer is
  \gath{
    f(9876543210 \mod 4) = f(2) = 49.
  }
}

\end{document}
