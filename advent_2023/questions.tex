\def\advent@xxiii@i{
  Each interior angle of a regular triangle is $60^\circ$.

  Each interior angle of a different regular polygon is $178^\circ$.
  How many sides does this polygon have?
}

\def\advent@xxiii@ii{
  Holly adds up the first six even numbers, then adds on half of the next even number.
  Her total is $49$.

  Next, Holly adds up the first $n$ even numbers then adds on half of the next even number.
  This time, her total is $465124$.
  What is $n$?
}

\def\advent@xxiii@iii{
  $190$ is the smallest multiple of $10$ whose digits add up to $10$.

  What is the smallest multiple of $15$ whose digits add up to $15$?
}

\def\advent@xxiii@iv{
  If $n$ is $1$, $2$, $4$, or $6$ then $(n! - 3)/(n - 3)$ is an integer.
  The largest of these numbers is $6$.

  What is the largest possible value of $n$ for which $(n! - 123)/(n - 123)$ is an integer?
}

\def\advent@xxiii@v{
  Put the digits $1$ to $9$ (using each digit exactly once) in the boxes so that the sums are correct.
  The sums should be read left to right and top to bottom ignoring the usual order of operations.
  For example, $4 + 3  \times 2$ is $14$, not $10$.
  Today's number is the product of the numbers in the red boxes.

  \grid@advent@xxiii@v{}{}{}{}{}{}{}{}{}
}

\def\vi@scale{1.5}
\definecolor{vi@y}{rgb}{1,1,0.663}
\definecolor{vi@b}{rgb}{0.667,1,1}
\definecolor{vi@g}{rgb}{0.671,1,0.663}
\definecolor{vi@p}{rgb}{1,0.667,1}
\newcommand\vi@vert[3]{\filldraw[ultra thick,fill=#1] (#2,#3) rectangle (#2+1,#3-2);}
\newcommand\vi@horz[3]{\filldraw[ultra thick,fill=#1] (#2,#3) rectangle (#2+2,#3-1);}
\newcommand\vi@four@i[2]{
  \vi@vert{vi@y}{#1}{#2}
  \vi@vert{vi@b}{#1+1}{#2}
  \vi@vert{vi@g}{#1+2}{#2}
  \vi@vert{vi@p}{#1+3}{#2}
}
\newcommand\vi@four@ii[2]{
  \vi@vert{vi@y}{#1}{#2}
  \vi@vert{vi@b}{#1+1}{#2}
  \vi@horz{vi@g}{#1+2}{#2}
  \vi@horz{vi@p}{#1+2}{#2-1}
}
\newcommand\vi@four@iii[2]{
  \vi@horz{vi@y}{#1}{#2}
  \vi@horz{vi@b}{#1}{#2-1}
  \vi@vert{vi@g}{#1+2}{#2}
  \vi@vert{vi@p}{#1+3}{#2}
}
\newcommand\vi@four@iv[2]{
  \vi@horz{vi@y}{#1}{#2}
  \vi@horz{vi@b}{#1}{#2-1}
  \vi@horz{vi@g}{#1+2}{#2}
  \vi@horz{vi@p}{#1+2}{#2-1}
}
\newcommand\vi@four@v[2]{
  \vi@vert{vi@y}{#1}{#2}
  \vi@horz{vi@b}{#1+1}{#2}
  \vi@horz{vi@g}{#1+1}{#2-1}
  \vi@vert{vi@p}{#1+3}{#2}
}
\def\advent@xxiii@vi{
  There are $5$ ways to tile a $4 \times 2$ rectangle with $2 \times 1$ pieces:

  \begin{center}
    \begin{tikzpicture}[scale=\vi@scale]
      \vi@four@i{0}{0}
      \vi@four@ii{5}{0}
      \vi@four@iii{10}{0}
    \end{tikzpicture}

    \vspace{0.3cm}

    \begin{tikzpicture}[scale=\vi@scale]
      \vi@four@iv{0}{0}
      \vi@four@v{5}{0}
    \end{tikzpicture}
  \end{center}

  How many ways are there to tile a $12 \times 2$ rectangle with $2 \times 1$ pieces?
}

\def\advent@xxiii@vii{
  There are 8 sets (including the empty set) that contain numbers from $1$ to $4$ that don't include any consecutive integers:
  \gaths{
    \braces{}, \braces{1}, \braces{2}, \braces{3}, \braces{4}, \braces{1,3}, \braces{1,4}, \braces{2, 4}
  }
  How many sets (including the empty set) are there that contain numbers from $1$ to $14$ that don't include any consecutive integers?
}

\def\advent@xxiii@viii{
  Noel writes the numbers $1$ to $17$ in a row.
  Underneath, he writes the same list without the first and last numbers, then continues this until he writes a row containing just one number:
  \begin{center}
    \begin{tabular}{ccccccccccccccccc}
      1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 & 11 & 12 & 13 & 14 & 15 & 16 & 17 \\
        & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 & 11 & 12 & 13 & 14 & 15 & 16 &    \\
        &   & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 & 11 & 12 & 13 & 14 & 15 &    &    \\
      \multicolumn{17}{c}{etc.}
    \end{tabular}
  \end{center}
  What is the sum of all the numbers that Noel has written?
}

\def\advent@xxiii@ix{
  The diagram below shows a rectangle.
  Two of its sides have been colored blue.
  A red line has been drawn from two of its vertices to the midpoint of a side.

  \begin{center}
    \begin{tikzpicture}
      \def\rw{6}
      \def\rh{3}

      \draw[black, thick] (0, 0) -- (\rw, 0) -- (\rw, -\rh);
      \draw[blue, thick] (0, 0) -- (0, -\rh) -- (\rw, -\rh);
      \draw[red, thick] (0, 0) -- (\rw/2, -\rh) -- (\rw, 0);
    \end{tikzpicture}
  \end{center}

  The total length of the blue lines is $50$~cm.
  The total length of the red lines is also $50$~cm.
  What is the area of the rectangle (in $\mathrm{cm^2}$)?
}

\def\advent@xxiii@x{
  How many integers are there between $100$ and $1000$ whose digits add up to an even number?
}

\def\advent@xxiii@xi{
  Put the digits $1$ to $9$ (using each digit exactly once) in the boxes so that the sums are correct.
  The sums should be read left to right and top to bottom ignoring the usual order of operations.
  For example, $4 + 3  \times 2$ is $14$, not $10$.
  Today's number is the product of the numbers in the red boxes.
  \grid@advent@xxiii@xi{}{}{}{}{}{}{}{}{}
}

\def\advent@xxiii@xii{
  What is the smallest value of $n$ such that
  \gaths{
    \frac{500! \times 499! \times 498! \times \cdots \times 1!}{n!}
  }
  is a square number?
}

\def\advent@xxiii@xiii{
  Today's number is given in this crossnumber. No number in the completed grid starts with $0$.
  \begin{multicols}{2}
    \crossnumstd{}{}{}{}{}{}{}{}{}

    \vfill\null
    \columnbreak

    \begin{center}
      \textbf{Across}

      \begin{tabular}{cp{5cm}c}
        \textbf{1} & Today's number.                                      & (\textbf{3}) \\
        \textbf{4} & A multiple of $5$ times the sum of the digits of 2D. & (\textbf{3}) \\
        \textbf{5} & Greater than two times 3D.                           & (\textbf{3})
      \end{tabular}

      \textbf{Down}

      \begin{tabular}{cp{5cm}c}
        \textbf{1} & The sum of 5A and 3D.                   & (\textbf{3}) \\
        \textbf{2} & Nine times the sum of the digits of 4A. & (\textbf{3}) \\
        \textbf{3} & Greater than 2D.                        & (\textbf{3})
      \end{tabular}
    \end{center}
  \end{multicols}
}

\def\advent@xxiii@xiv{
  The function $f(x) = ax + b$ (where $a$ and $b$ are real constants) satisfies
  \gaths{
    -x^3 + 2x^2 + 6x - 9 \leq f(x) \leq x^2 - 2x + 3
  }
  whenever $0 \leq x \leq 3$.
  What is $f(200)$?
}

\def\advent@xxiii@xv{
  The arithmetic mean of a set of $n$ numbers is computed by adding up all the numbers, then dividing the result by $n$.
  The geometric mean of a set of $n$ numbers is computed by multiplying all the numbers together, then taking the $n$th root of the result.

  The arithmetic mean of the digits of the number $132$ is $\frac{1}{3}(1 + 3 + 2) = 2$.
  The geometric mean of the digits of the number $139$ is $\sqrt[3]{1 \times 3 \times 9} = 3$.

  What is the smallest three-digit number whose first digit is $4$ and for which the arithmetic and geometric means of its digits are both non-zero integers?
}

\def\advent@xxiii@xvi{
  Some numbers can be written as the sum of two or more consecutive positive integers, for example:
  \gaths{
    7 = 3 + 4 \\
    18 = 5 + 6 + 7
  }

  Some numbers (for example $4$) cannot be written as the sum of two or more consecutive positive integers.
  What is the smallest three-digit number that cannot be written as the sum of two or more consecutive positive integers?
}

\def\advent@xxiii@xvii{
  If you expand $(a + b + c)^2$, you get $a^2 + b^2 + c^2 + 2ab + 2ac + 2bc$.
  This has $6$ terms.

  How many terms does the expansion of $(a + b + c + d + e + f)^5$ have?
}

\def\advent@xxiii@xviii{
  Some numbers can be written as the \textbf{product} of two or more consecutive integers, for example:
  \gaths{
    6 = 2 \times 3 \\
    840 = 4 \times 5 \times 6 \times 7
  }
  What is the smallest three-digit number that can be written as the product of two or more consecutive integers?
}

\def\advent@xxiii@xix{
  Put the digits $1$ to $9$ (using each digit exactly once) in the boxes so that the sums are correct.
  The sums should be read left to right and top to bottom ignoring the usual order of operations.
  For example, $4 + 3 \times 2$ is $14$, not $10$.
  Today's number is the product of the numbers in the red boxes.
  \grid@advent@xxiii@xix{}{}{}{}{}{}{}{}{}
}

\def\xx@cuph{2.5}
\def\xx@cupw{2.1}
\def\xx@cupsp{3.2}
\def\xx@cupnxt{9}
\def\xx@cupnxtr{5}
\def\xx@ballr{0.6}
\def\xx@ballrp{0.7}
\def\xx@ball@l{-\xx@cupw/2+\xx@ballrp}
\def\xx@ball@r{\xx@cupw/2-\xx@ballrp}
\def\xx@ballup{2.6*\xx@ballrp}
\newcommand\xx@cup[3]{
  \draw[black, ultra thick] (#1-\xx@cupw/2, #2+\xx@cuph) -- (#1-\xx@cupw/2, #2) -- (#1+\xx@cupw/2, #2) -- (#1+\xx@cupw/2, #2+\xx@cuph);
  \node[below] at (#1, #2) {#3};
}
\newcommand\xx@ball[3]{
  \draw[black, ultra thick](#1,#2) circle (\xx@ballr);
  \node at (#1, #2) {#3};
}
\def\advent@xxiii@xx{
  There are $6$ different ways that three balls labelled $1$ to $3$ can be put into two boxes labelled A and B so that no box is empty:
  \begin{center}
    \begin{tikzpicture}
      % First row
      \xx@cup{0}{\xx@cupnxtr}{A}
      \xx@ball{0}{\xx@cupnxtr+\xx@ballrp}{1}
      \xx@cup{\xx@cupsp}{\xx@cupnxtr}{B}
      \xx@ball{\xx@cupsp+\xx@ball@r}{\xx@cupnxtr+\xx@ballrp}{2}
      \xx@ball{\xx@cupsp+\xx@ball@l}{\xx@cupnxtr+\xx@ballup}{3}

      \xx@cup{\xx@cupnxt}{\xx@cupnxtr}{A}
      \xx@ball{\xx@cupnxt}{\xx@cupnxtr+\xx@ballrp}{2}
      \xx@cup{\xx@cupnxt+\xx@cupsp}{\xx@cupnxtr}{B}
      \xx@ball{\xx@cupnxt+\xx@cupsp+\xx@ball@l}{\xx@cupnxtr+\xx@ballrp}{1}
      \xx@ball{\xx@cupnxt+\xx@cupsp+\xx@ball@r}{\xx@cupnxtr+\xx@ballup}{3}

      \xx@cup{2*\xx@cupnxt}{\xx@cupnxtr}{A}
      \xx@ball{2*\xx@cupnxt}{\xx@cupnxtr+\xx@ballrp}{3}
      \xx@cup{2*\xx@cupnxt + \xx@cupsp}{\xx@cupnxtr}{B}
      \xx@ball{2*\xx@cupnxt+\xx@cupsp+\xx@ball@l}{\xx@cupnxtr+\xx@ballrp}{2}
      \xx@ball{2*\xx@cupnxt+\xx@cupsp+\xx@ball@r}{\xx@cupnxtr+\xx@ballup}{1}

      % Second row
      \xx@cup{0}{0}{A}
      \xx@ball{\xx@ball@r}{\xx@ballrp}{1}
      \xx@ball{\xx@ball@l}{\xx@ballup}{3}
      \xx@cup{\xx@cupsp}{0}{B}
      \xx@ball{\xx@cupsp}{\xx@ballrp}{2}

      \xx@cup{\xx@cupnxt}{0}{A}
      \xx@ball{\xx@cupnxt+\xx@ball@l}{\xx@ballrp}{3}
      \xx@ball{\xx@cupnxt+\xx@ball@r}{\xx@ballup}{2}
      \xx@cup{\xx@cupnxt+\xx@cupsp}{0}{B}
      \xx@ball{\xx@cupnxt+\xx@cupsp}{\xx@ballrp}{1}

      \xx@cup{2*\xx@cupnxt}{0}{A}
      \xx@ball{2*\xx@cupnxt+\xx@ball@r}{\xx@ballrp}{1}
      \xx@ball{2*\xx@cupnxt+\xx@ball@l}{\xx@ballup}{2}
      \xx@cup{2*\xx@cupnxt + \xx@cupsp}{0}{B}
      \xx@ball{2*\xx@cupnxt + \xx@cupsp}{\xx@ballrp}{3}
    \end{tikzpicture}
  \end{center}
  How many ways can five balls labelled $1$ to $5$ be put into four boxes labelled A to D so that no box is empty?
}

\def\advent@xxiii@xxi{
  There are $6$ two-digit numbers whose digits are all $1$, $2$, or $3$ and whose second digit onwards are all less than or equal to the previous digit:
  \begin{itemize}
    \item 33
    \item 22
    \item 31
    \item 21
    \item 11
    \item 32
  \end{itemize}
  How many $20$-digit numbers are there whose digits are all $1$, $2$, or $3$ and whose second digit onwards are all less than or equal to the previous digit?
}

\def\xxii@size{5}
\def\xxii@spc{1.6*\xxii@size}
\definecolor{xxii@purp}{rgb}{0.799,0.601,0.999}
\newcommand\xxii@dot[2]{\filldraw[black,fill=#2] (#1) circle (0.15);}
\newcommand\xxii@square[8]{
  % Square
  \draw[black,thick] (#1,#2) rectangle (#1+\xxii@size,#2+\xxii@size);

  % Triangle
  \filldraw[black,thick,fill=xxii@purp] (#1+\xxii@size*#3, #2+\xxii@size*#4) -- (#1+\xxii@size*#5, #2+\xxii@size*#6) -- (#1+\xxii@size*#7, #2+\xxii@size*#8) -- cycle;

  % Dots
  \xxii@dot{#1+\xxii@size*#3,#2+\xxii@size*#4}{xxii@purp}
  \xxii@dot{#1+\xxii@size*#5,#2+\xxii@size*#6}{xxii@purp}
  \xxii@dot{#1+\xxii@size*#7,#2+\xxii@size*#8}{xxii@purp}
}
\def\advent@xxiii@xxii{
  There are $4$ ways to pick three vertices of a regular quadrilateral so that they form a right-angled triangle:
  \begin{center}
    \begin{tikzpicture}
      \xxii@square{0}{0}{0}{1}{0}{0}{1}{0}
      \xxii@square{\xxii@spc}{0}{1}{1}{0}{0}{1}{0}
      \xxii@square{2*\xxii@spc}{0}{0}{1}{1}{1}{1}{0}
      \xxii@square{3*\xxii@spc}{0}{0}{1}{1}{1}{0}{0}
    \end{tikzpicture}
  \end{center}
  In another regular polygon with $n$ sides, there are $14620$ ways to pick three vertices so that they form a right-angled triangle.
  What is $n$?
}

\def\xxiii@cs{0.7}
\def\xxiii@spc{4*\xxiii@cs}
\def\xxiii@grid{
  % Horizontal lines
  \draw[very thick,gray,densely dotted] (0, 2*\xxiii@cs) -- (3*\xxiii@cs, 2*\xxiii@cs);
  \draw[very thick,gray,densely dotted] (0, \xxiii@cs) -- (3*\xxiii@cs, \xxiii@cs);
  % Vertical lines
  \draw[very thick,gray,densely dotted] (\xxiii@cs, 3*\xxiii@cs) -- (\xxiii@cs, 0);
  \draw[very thick,gray,densely dotted] (2*\xxiii@cs, 3*\xxiii@cs) -- (2*\xxiii@cs, 0);
  % Outline
  \draw[very thick,black] (0, 0) rectangle (3*\xxiii@cs, 3*\xxiii@cs);
}
\newcommand\xxiii@line[4]{
  \draw[very thick,black] (#1*\xxiii@cs, #2*\xxiii@cs) -- (#3*\xxiii@cs, #4*\xxiii@cs);
}
\def\advent@xxiii@xxiii{
  There are $18$ ways to split a $3$ by $3$ square into $3$ rectangles whose sides all have integer length:
  \begin{center}
    \begin{tikzpicture}
      % Row 1
      \xxiii@grid
      \xxiii@line{1}{0}{1}{3}
      \xxiii@line{1}{2}{3}{2}
      \begin{scope}[shift={(\xxiii@spc,0)}]
        \xxiii@grid
        \xxiii@line{0}{2}{2}{2}
        \xxiii@line{2}{0}{2}{3}
      \end{scope}
      \begin{scope}[shift={(2*\xxiii@spc,0)}]
        \xxiii@grid
        \xxiii@line{0}{2}{1}{2}
        \xxiii@line{1}{0}{1}{3}
      \end{scope}
      \begin{scope}[shift={(3*\xxiii@spc,0)}]
        \xxiii@grid
        \xxiii@line{0}{2}{3}{2}
        \xxiii@line{2}{2}{2}{3}
      \end{scope}
      \begin{scope}[shift={(4*\xxiii@spc,0)}]
        \xxiii@grid
        \xxiii@line{0}{1}{3}{1}
        \xxiii@line{0}{2}{3}{2}
      \end{scope}
      \begin{scope}[shift={(5*\xxiii@spc,0)}]
        \xxiii@grid
        \xxiii@line{0}{1}{3}{1}
        \xxiii@line{1}{0}{1}{1}
      \end{scope}
      % Row 2
      \begin{scope}[shift={(0,-1*\xxiii@spc)}]
        \xxiii@grid
        \xxiii@line{0}{1}{3}{1}
        \xxiii@line{1}{1}{1}{3}
      \end{scope}
      \begin{scope}[shift={(1*\xxiii@spc,-1*\xxiii@spc)}]
        \xxiii@grid
        \xxiii@line{2}{0}{2}{3}
        \xxiii@line{2}{2}{3}{2}
      \end{scope}
      \begin{scope}[shift={(2*\xxiii@spc,-1*\xxiii@spc)}]
        \xxiii@grid
        \xxiii@line{1}{0}{1}{3}
        \xxiii@line{0}{1}{1}{1}
      \end{scope}
      \begin{scope}[shift={(3*\xxiii@spc,-1*\xxiii@spc)}]
        \xxiii@grid
        \xxiii@line{0}{2}{3}{2}
        \xxiii@line{1}{0}{1}{2}
      \end{scope}
      \begin{scope}[shift={(4*\xxiii@spc,-1*\xxiii@spc)}]
        \xxiii@grid
        \xxiii@line{0}{1}{3}{1}
        \xxiii@line{2}{0}{2}{1}
      \end{scope}
      \begin{scope}[shift={(5*\xxiii@spc,-1*\xxiii@spc)}]
        \xxiii@grid
        \xxiii@line{2}{0}{2}{3}
        \xxiii@line{2}{1}{3}{1}
      \end{scope}
      % Row 3
      \begin{scope}[shift={(0,-2*\xxiii@spc)}]
        \xxiii@grid
        \xxiii@line{0}{2}{3}{2}
        \xxiii@line{1}{2}{1}{3}
      \end{scope}
      \begin{scope}[shift={(1*\xxiii@spc,-2*\xxiii@spc)}]
        \xxiii@grid
        \xxiii@line{0}{2}{3}{2}
        \xxiii@line{2}{0}{2}{2}
      \end{scope}
      \begin{scope}[shift={(2*\xxiii@spc,-2*\xxiii@spc)}]
        \xxiii@grid
        \xxiii@line{1}{0}{1}{3}
        \xxiii@line{2}{0}{2}{3}
      \end{scope}
      \begin{scope}[shift={(3*\xxiii@spc,-2*\xxiii@spc)}]
        \xxiii@grid
        \xxiii@line{0}{1}{2}{1}
        \xxiii@line{2}{0}{2}{3}
      \end{scope}
      \begin{scope}[shift={(4*\xxiii@spc,-2*\xxiii@spc)}]
        \xxiii@grid
        \xxiii@line{1}{0}{1}{3}
        \xxiii@line{1}{1}{3}{1}
      \end{scope}
      \begin{scope}[shift={(5*\xxiii@spc,-2*\xxiii@spc)}]
        \xxiii@grid
        \xxiii@line{0}{1}{3}{1}
        \xxiii@line{2}{1}{2}{3}
      \end{scope}
    \end{tikzpicture}
  \end{center}

  How many ways are there to split a $10$ by $10$ square into $3$ rectangles whose sides all have integer length?
}

\def\advent@xxiii@xxiv{
  When written in binary, the number $235$ is $11101011$.
  This binary representation starts and ends with 1 and does not contain two \mn{0} in a row.

  What is the smallest three-digit number whose binary representation starts and ends with $1$ and does not contain two \mn{0} in a row?
}

\def\card@xxiii@i{
  What is the largest value of $n$ such that $(n!-1)/(n-1)$ is an integer?
}

\def\card@xxiii@ii{
  What is the largest value of $n$ such that $(n!-44)/(n-44)$ is an integer?
}

\def\card@xxiii@iii{
  Holly adds up the first $7$ even numbers, then adds on half of the next even number.
  What total does she get?
}

\def\card@xxiii@iv{
  Holly adds up the first $n$ even numbers, then adds on half of the next even number.
  Her total was $9025$.
  What is $n$?
}

\def\card@xxiii@v{
  What is the area of the quadrilateral with the largest area that will fit inside a circle with area $20\pi$?
}

\def\card@xxiii@vi{
  What is the area of the dodecagon with the largest area that will fit inside a circle with area $20\pi$?
}

\def\card@xxiii@vii{
  How many $3$-digit positive integers are there whose digits are all $1$, $2$, $3$, $4$, or $5$ with exactly two digits that are ones?
}

\def\card@xxiii@viii{
  Eve works out that there are 300 $n$-digit positive integers whose digits are all $1$, $2$, $3$, $4$, or $5$ with exactly $n-1$ digits that are ones.
  What is $n$?
}

\def\card@xxiii@ix{
  What are the last two digits of $7^3$?
}

\def\card@xxiii@x{
  What are the last two digits of $7^{9876543210}$?
}