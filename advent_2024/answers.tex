\documentclass{article}

\input{common/prelude}

% Macros
\input{common/macros}
\input{questions}
\input{boxes}

\begin{document}

\title{Matthew Scroggs Advent Calendar 2024 Answers}
\author{Dan Whitman}
\date{}

\maketitle

Sync answers: \href{http://mscroggs.co.uk/adventcode/O7IMqY4B}{http://mscroggs.co.uk/adventcode/O7IMqY4B}

\aproblem{1}{144}{\advent@xxiv@i}{
  Let $A$ denote any set of five distinct positive integers that sums to $16$.
  If $1 \notin A$ then the smallest possible sum would be
  \gath{
    2 + 3 + 4 + 5 + 6 = 20.
  }
  As this exceeds $16$, it must be that $1 \in A$.
  Similarly, if $2 \notin A$, then the smallest possible sum is
  \gath{
    1 + 3 + 4 + 5 + 6 = 19,
  }
  which again exceeds $16$, so that it must be that $2 \in A$ as well.
  What if $3 \notin A$?
  Then, again, the smallest sum becomes
  \gath{
    1 + 2 + 4 + 5 + 6 = 18,
  }
  and hence $3 \in A$ as well.
  Lastly, if $4 \notin A$, then the smallest sum becomes
  \gath{
    1 + 2 + 3 + 5 + 6 = 17
  }
  so that $4$ must be in $A$.

  Therefore, $A = \braces{1, 2, 3, 4, n}$ where $n$ is some unknown positive integer.
  Clearly we have
  \gath{
    1 + 2 + 3 + 4 + n = 16 \non
    10 + n = 16 \non
    n = 6
  }
  so that it has to be that
  \gath{
    A = \braces{1, 2, 3, 4, 6}.
  }
  The product of these is then of course $1 \cdot 2 \cdot 3 \cdot 4 \cdot 6 = 144$, which is our answer.
  This was also validated using a brute force Python program.
}

\aproblem{2}{202}{\advent@xxiv@ii}{
  For a pair of $N$-sided dice, let $f(N)$ denote the smallest even number that \emph{cannot} be obtained by the product of a roll of the dice.
  The general claim is that $f(N)$ is $2a$ where $a$ is the smallest prime number greater than $N$, though we will not prove this in full generality.

  So, for the $N = 6$ example, the smallest prime larger than $6$ is of course $a = 7$ so that $f(6) = 2a = 2 \cdot 7 = 14$.
  For $N = 100$, the smallest prime larger than $100$ is clearly $a = 101$ so that our answer becomes $f(100) = 2a = 2 \cdot 101 = 202$.

  We \emph{will} prove this special case when $a = N + 1$, which applies to both the example and our actual problem.
  First, let $n = 2a$, noting that $n$ has only the nontrivial factors $2$ and $a$ since $a$ is prime.
  A roll of the $N$-sided pair of dice cannot produce this even number as a product because the pair would have to be either a $1$ and an $n$ or a $2$ and an $a$.
  However, we have that
  \gath{
    N < N + 1 = a < 2a = n
  }
  so that the neither of the required larger factors of $n$ or $a$ appear on any side of either die.

  Now, suppose that $m = 2b$ is an even number less than $n$.
  Then of course
  \gath{
    2b = m < n = 2a \non
    b < a \non
    b < N + 1
  }
  so that $b \leq N$ and so is a number on the side of each die.
  Hence, the product of the roll of a $2$ and a $b$ is of course $2b = m$ so that this is attainable as the product of a roll.
  Since $m < n$ was arbitrary, this shows that $f(N) = n$ is the \emph{smallest} even number that cannot be obtained from the pair of dice.

  These results were verified with a brute force Python program.
}

\aproblem{3}{377}{\advent@xxiv@iii}{
  This is similar to the 2018, Dec~1 problem and the general approach will be the same.
  For any positive integer $n$, let $f(n)$ denote the number of ways to write $n$ as a sum of positive odd integers.
  For reasons that will become clear momentarily, we set $f(0) = 1$.
  Clearly also $1 = 1$ and $2 = 1 + 1$ are the only valid ways to write those numbers so that $f(1) = f(2) = 1$.

  Now, if $n = 2m+1$ is odd, then the first number in the sum can be one of $m+1$ odd numbers, including $n$ itself.
  Specifically, these are $2k+1$ where $0 \leq k \leq m$.
  Once this number is chosen via $k$, the remaining value of the sum is
  \gath{
    n - (2k+1) = (2m + 1) - (2k + 1) = 2(m-k)
  }
  such that all the numbers still sum to $n$, and there are of course $f\squares{2(m-k)}$ ways to express this value as the sum of odd numbers.
  Thus, the total number of ways to express $n$ is to sum over all the choices of $k$, which becomes the recursive formula
  \gath{
    f(2m+1) = \sum_{l=0}^m f\squares{2(m-l)}. \label{eqn:piii:odd:pre}
  }
  We can simplify this by setting $k = m-l$ so that $l = 0 \to k = m$ and $l = m \to k = 0$, and hence
  \gath{
    f(2m+1) = \sum_{k=0}^m f(2k). \label{eqn:piii:odd}
  }
  Note that the first number in the sum being $n$ itself corresponds to $l = m$ in \eqref{eqn:piii:odd:pre} and $k = 0$ in \eqref{eqn:piii:odd} so that the remaining value is $0$ and hence $f(2k) = f(0) = 1$ since overall there is only one of these sums.
  Thus, we set $f(0) = 1$ above to make \eqref{eqn:piii:odd:pre} and \eqref{eqn:piii:odd} more concise.

  Now suppose that $n = 2m$ is even.
  Here there are $m$ choices for the first number, namely the odd numbers $2k+1$ where $0 \leq k \leq m-1$.
  The remaining sum value is then
  \gath{
    n - (2k+1) = 2m - 2k - 1 = 2(m-k) - 1.
  }
  Following the same line of reasoning as the odd case, the recursive formula becomes
  \gath{
    f(2m) = \sum_{l=0}^{m-1} f\squares{2(m-l)-1}.
  }
  We can again change variables to $k = m-l$ so that $l = 0 \to k = m$ and $l = m-1 \to k = 1$, and hence
  \gath{
    f(2m) = \sum_{k=1}^m f(2k-1). \label{eqn:piii:even}
  }

  Now, if again $n = 2m+1$ is odd then we clearly have
  \ali{
    n - 1 &= 2m \label{eqn:piii:onmo} \\
    n - 2 &= 2m - 1 = 2m - 1 + 2 - 2 = 2(m-1) + 1.
  }
  Therefore, by \eqref{eqn:piii:odd}, we get
  \gath{
    f(n-2) = f\squares{2(m-1)+1} = \sum_{k=1}^{m-1} f(2k) \label{eqn:piii:omt}
  }
  so that
  \ali{
    f(n) &= f(2m+1) = \sum_{k=0}^m f(2k) \non
    &= \sum_{k=0}^{m-1} f(2k) + f(2m) \non
    &= f(n-2) + f(n-1)
  }
  by \eqref{eqn:piii:omt} and \eqref{eqn:piii:onmo}, which is the recursive Fibonacci relation!
  What happens though when $n = 2m$ is even?
  In this case we have
  \ali{
    n - 1 &= 2m - 1 \label{eqn:piii:emo} \\
    n - 2 &= 2m - 2 = 2(m-1)
  }
  and
  \gath{
    f(n-2) = f\squares{2(m-1)} = \sum_{k=1}^{m-1} f(2k-1) \label{eqn:piii:emt}
  }
  by \eqref{eqn:piii:even}.
  Hence,
  \ali{
    f(n) &= f(2m) = \sum_{k=1}^m f(2k-1) \non
    &= \sum_{k=1}^{m-1} f(2k-1) + f(2m-1) \non
    &= f(n-2) + f(n-1)
  }
  by \eqref{eqn:piii:emt} and \eqref{eqn:piii:emo}, which is the same relation!

  Therefore, we have the standard Fibonacci sequence:
  \ali{
    f(1) &= 1 \non
    f(2) &= 1 \non
    f(n) &= f(n-1) + f(n-2).
  }
  Noting that we can calculate the example at $f(5) = 5$, it is then largely trivial to continue the sequence to calculate our answer of $f(14) = 377$.

  These results were verified with a brute force Python program.
}

\aproblem{4}{169}{\advent@xxiv@iv}{
  Suppose that $p$ is any prime number, noting that both $3$ and $13$ are prime.
  Suppose a that positive integer $m$ has $n$ factors: $\braces{a_k \mid 1 \leq k \leq n}$.
  We would like the geometric mean of the factors to be equal to $p$ so that
  \gath{
    \sqrt[n]{\prod_{k=1}^n a_k} = p \non
    \prod_{k=1}^n a_k = p^n.
  }
  Now, since $p$ is prime, every $a_k$ must be some power of $p$.
  This implies that $m$ itself must also be a power of $p$.

  So suppose that $m = p^n$ for some unknown $n$.
  Then the factors of $m$ are exactly the set of $n+1$ powers $\braces{p^k \mid 0 \leq k \leq n}$.
  Therefore, we have
  \gath{
    \sqrt[n+1]{\prod_{k=0}^n p^k} = p \non
    \prod_{k=0}^n p^k = p^{n+1} \non
    p^0 \cdot p^1 \cdot p^2 \cdots p^n = p^{n+1} \non
    p^{\sum_{k=0}^n k} = p^{n+1}.
  }
  Since $p^x$ is strictly increasing, this implies that
  \gath{
    \sum_{k=0}^n k = n + 1 \non
    \frac{n(n+1)}{2} = n+1 \non
    n^2 + n = 2n + 2 \non
    n^2 - n - 2 = 0 \non
    (n - 2)(n + 1) = 0.
  }
  Since $n$ must be positive, this means that $n = 2$ so that $m = p^2$.
  Evidently this is not just the smallest number such that the geometric mean of its factors is $p$, but the \emph{only} such number.
  In our case we have $p = 13$ so that the answer we seek is $m = p^2 = 13^2 = 169$.

  This result was also verified with a brute force Python program.
}

\aproblem{5}{179}{\advent@xxiv@v}{
  We can leverage the results of the 2021, Dec~9 problem.
  There, the sum of the $n$ consecutive integers starting at (and including) $a$ was derived to be
  \gath{
    \sum_{k=a}^{a+n-1} k = \frac{1}{2} n (n + 2a - 1) \label{eqn:pv:sum}
  }
  Suppose that this sum is given as $s$ and that $n$ is also known.
  Then we can solve \eqref{eqn:pv:sum} for $a$ to get
  \gath{
    \frac{1}{2} n (n + 2a - 1) = s \non
    n + 2a - 1 = \frac{2s}{n} \non
    2a = \frac{2s}{n} - n + 1 \non
    a = \frac{s}{n} + \frac{1 - n}{2} \label{eqn:pv:solved}
  }
  In our case we have $n = 11$ and $s = 2024$ so that \eqref{eqn:pv:solved} evaluates to our answer $a = 179$.
}

\aproblem{6}{990}{\advent@xxiv@vi}{
  Suppose that $a_k$ is the $k$-digit number whose digits are all $9$, which is to say that $a_k = 10^k - 1$.
  Also, let $e(m)$ denote the number of digital nines in $m$.
  We show these below for $1 \leq k \leq 10$:

  \begin{center}
    \begin{tabular}{c|c|c|c}
      $k$ & $a_k$      & $a_k^3$                        & $e(a_k^3)$ \\
      \hline
      1   & 9          & 729                            & 1          \\
      2   & 99         & 970299                         & 3          \\
      3   & 999        & 997002999                      & 5          \\
      4   & 9999       & 999700029999                   & 7          \\
      5   & 99999      & 999970000299999                & 9          \\
      6   & 999999     & 999997000002999999             & 11         \\
      7   & 9999999    & 999999700000029999999          & 13         \\
      8   & 99999999   & 999999970000000299999999       & 15         \\
      9   & 999999999  & 999999997000000002999999999    & 17         \\
      10  & 9999999999 & 999999999700000000029999999999 & 19         \\
    \end{tabular}
  \end{center}

  In the context of the digital sum of $a_k^3$, we can observe that $a_k^3$ has one seven, one two, some irrelevant number of zeros, and some number of nines.
  Though we do not attempt to prove it, it seems that the number of nines $e(a_k^3)$ is simply the odd numbers.
  That is
  \gath{
    e(a_k^3) = 2k - 1.
  }
  Letting $s(m)$ denote the digital sum of $m$, the digital sum of $a_k^3$ should then be
  \ali{
    s(a_k^3) &= 9e(a_k^3) + 7 + 2 = 9e(a_k^3) + 9 \non
    &= 9(2k - 1) + 9 = 9(2k - 1 + 1) \non
    &=18k
  }
  This result was verified using a Python program for all $1 \leq k \leq 1000$.
  This of course included our particular case of $s(n) = s(a_{55}^3) = 18 \cdot 55 = 990$, which is our answer.
}

\aproblem{7}{119}{\advent@xxiv@vii}{
  In what follows, we take 12 o'clock to be at zero degrees, with increasing angles going clockwise, in opposition to the standard counter-clockwise on the polar plane.

  Regarding the minute hand, each revolution of the hand around the clock face is an hour, which is of course 60 minutes.
  Thus, each minute advances the minute hand by $m = 360/60 = 6\unit{degrees}$.
  This means that position of the minute hand at 08:22 would be $p_m = 22m = 132$ degrees relative to (12 o'clock).

  For the hour hand, each revolution around the clock face is $12$ hours, during which time $60 \cdot 12 = 720$ minutes pass.
  Hence, every minute advances the hour hand by $h = 360 / 720 = 1/2$ a degree.
  The time 08:22 is of course 8 hours and 22 minutes past midnight (12 o'clock on the clock face), which is equivalent to $m_h = 60 \cdot 8 + 22 = 502$ total minutes.
  Thus, the position of the hour hand is $p_h = m_h h = 502 /2 = 251$ degrees.

  The angle between them is then $\abs{p_h - p_m} = \abs{251 - 132} = 119$ degrees, which is indeed obtuse.
}

\aproblem{8}{575}{\advent@xxiv@viii}{
  Suppose that we have $n$ points in a plane forming $T(n)$ triangles with a convex overall boundary.
  If we then add a point somewhere \emph{inside} one of the triangles (i.e. not on an edge or at a vertex) and connect this new point to each of the three vertices of the triangle, then this divides that triangle into three smaller triangles.
  Hence, we have created two additional triangles (the third simply replacing the one that was subdivided) so that
  \gath{
    T(n+1) = T(n) + 2. \label{eqn:pviii:rec}
  }
  It is easy to see that this is a way to create the \emph{most} new triangles since putting the new point \emph{outside} the entire shape will only create one new triangle since the shape is convex.
  The point could also be added on the edge of an existing triangle (but not on an existing vertex) as this subdivides \emph{two} original triangles each into two sub-triangles, again adding two additional triangles overall.

  Now, for three points, clearly the maximum number of triangles is simply one, noting that this is also always convex.
  Therefore, we have
  \gath{
    T(3) = 1. \label{eqn:pviii:base}
  }

  From \eqref{eqn:pviii:rec} and \eqref{eqn:pviii:base} it is easy to deduce that
  \gath{
    T(n) = 2n - 5. \label{eqn:pviii:closed}
  }
  This is also easy to prove using induction.
  First, clearly for $n = 3$ we have
  \gath{
    T(n) = T(3) = 2 \cdot 3 - 5 = 6 - 5 = 1,
  }
  which comports with \eqref{eqn:pviii:base}.
  Now suppose that \eqref{eqn:pviii:closed} is true for $n$.
  Then we have
  \ali{
    T(n+1) &= T(n) + 2 & \text{(by \eqref{eqn:pviii:rec})} \non
    &= 2n - 5 + 2 & \text{(by the induction hypothesis)} \non
    &= 2(n+1) - 5,
  }
  which shows that \eqref{eqn:pviii:closed} is true for $n+1$ as well, completing the induction.

  Finally, the answer we seek is then $T(290) = 2 \cdot 290 - 5 = 575$, noting that also $T(4) = 2 \cdot 4 - 5 = 3$ as expected per the example and diagram above.
}

\aproblem{9}{252}{\advent@xxiv@ix}{
  \boxans{\gridsol@advent@xxiv@ix}
}

\aproblem{10}{TODO}{\advent@xxiv@x}{
  TODO
}

\end{document}
