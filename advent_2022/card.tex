\documentclass{article}
\input{common/prelude}

% Macros
\input{common/macros}
\input{questions}

\begin{document}

\title{MS Scroggs 2022 Christmas Card Solutions}
\author{Dan Whitman}
\date{}

\maketitle

Link to the online card: \href{https://www.mscroggs.co.uk/blog/98}{https://www.mscroggs.co.uk/blog/98}

\cproblem{1}{5}{\card@xxii@i}{
  Just working through the primes starting at $1$, the answer is clearly $5$, which is two more than $3$ and two less than $7$, both of which are also prime.
}

\newcommand\sumo[1]{s_\mathrm{o}\parens{#1}}
\cproblem{2}{49}{\card@xxii@ii}{
  While this would be really simple to just manually calculate, it is more fun (though perhaps more work) to derive an easier formula.
  Clearly the sum of the first $n$ odd numbers is going to be
  \gath{
    \sumo{n} = \sum_{k=1}^n (2k - 1) = 2 \sum_{k=1}^n k - \sum_{k=1}^n 1 = \frac{2n(n+1)}{2} - n = n^2 \,.
  }
  Thus our answer is $\sumo{7} = 7^2 = 49$.
}

\cproblem{3}{33}{\card@xxii@iii}{
  From the equation derived in the previous problem, clearly the answer is $\sqrt{1089} = 33$.
}

\cproblem{4}{1}{\card@xxii@iv}{
  Since $7$ is prime, the quotient group $\ints/7\ints$ is cyclic, and indeed $4$ is a generator for it.
  From this it follows that \emph{any} integer can be obtained by adding only integer multiples of $4$ and $7$.
  As an example, clearly $2 \cdot 4 - 1 \cdot 7 = 1$, which is of course the smallest positive integer period.
}

\cproblem{5}{80}{\card@xxii@v}{
  This is similar to the previous problem, but not so straightforward because our two integers are not coprime.
  In particular, $\gcd(240, 400) = 80$ so that only integer multiples of $80$ are obtainable by adding integer multiples of $240$ and $400$.
  Hence, our answer is of course $80$, noting that $2 \cdot 240 - 1 \cdot 400 = 80$ as an example of how to attain this.
}

\cproblem{6}{20}{\card@xxii@vi}{
  Here we can leverage the solution of the 2022, Dec~6 problem.
  There, it was reasoned that, for a digital sum of $1 \leq s \leq 9$, the number of $m$-digit numbers with this digital sum and for which there are no nonzero digits is the recursive function
  \gath{
    N_m(s) = \begin{cases}
      1                             & m = 1         \\
      \sum_{j=m-1}^{s-1} N_{m-1}(j) & 1 < m \leq 9.
    \end{cases} \label{eqn:06:rec}
  }
  It was also derived that, in particular,
  \gath{
    N_3(s) = \frac{(s-1)(s-2)}{2}.
  }
  Hence, for $4$-digit numbers we have
  \ali{
    N_4(s) &= \sum_{j=3}^{s-1} N_3(j) = \sum_{j=3}^{s-1} \frac{(j-1)(j-2)}{2} = \frac{1}{2} \sum_{j=3}^{s-1} \parens{j^2 - 3j + 2} = \frac{1}{2} \parens{\sum_{j=3}^{s-1} j^2 - 3 \sum_{j=3}^{s-1} j + 2 \sum_{j=3}^{s-1} 1} \non
    &= \frac{1}{2}\squares{\frac{s(s-1)(2s-1)}{6} - (2^2 + 1^2) - \frac{3s(s-1)}{2} + 3(2 + 1) + 2(s-3)} \non
    &= \frac{1}{2}\squares{\frac{2s^3 - 12s^2 + 22s - 12}{6}} = \frac{s^3 - 6s^2 + 11s - 6}{6}.
  }
  So our answer is then $N_4(7) = 20$, which was also verified with a brute force search Python program.
}

\cproblem{7}{64}{\card@xxii@vii}{
  This is just like the previous problem except that we are looking at all positive integers instead of just the $4$-digit integers.
  Again, we can use the results of the 2022, Dec~6 problem, according to which this number for the general digital sum $s$ is
  \gath{
    N_s = \sum_{m=1}^s N_m(s). \label{eqn:07:Ns}
  }
  Just like the Dec~6 problem, we shall not undergo the tedium of computing $N_5(s)$, $N_6(s)$, or $N_7(s)$, but instead implement \eqref{eqn:07:Ns} along with the recursive function \eqref{eqn:06:rec} in Python to arrive at our answer $N_7 = 64$.
  As before, this result was also verified with a brute force search in the Python program.
}

\cproblem{8}{2836}{\card@xxii@viii}{
  Suppose that the original $4$-digit number is $d_3 d_2 d_1 d_0$ where of course $0 \leq d_i \leq 9$ for all $0 \leq i \leq 3$.
  Now, it \emph{has} to be that the least significant digit is the one that was removed since otherwise the sum would end in $d_0 + d_0 = 2d_0$ so that it would have to end in an even digit.
  Since the sum 
  ends in a $9$ though, it must be that the $3$-digit number is $d_3 d_2 d_1$, and our sum is
  \begin{center}
    \begin{tabular}{ccccc}
          & $d_3$ & $d_2$ & $d_1$ & $d_0$ \\ 
      $+$ &       & $d_3$ & $d_2$ & $d_1$ \\
      \hline
          & 3 & 1 & 1 & 9
    \end{tabular}
  \end{center}
  Clearly either $d_3 = 3$ and nothing is carried from the $d_2 + d_3$ digit, or else $d_3 = 2$ and a $1$ \emph{is} carried.
  It must be the latter case since, in the former case, clearly $d_2 + d_3 = d_2 + 3 > 1$ so that this would have to be an $11$ instead and thus would carry, which contradicts that case.
  So, since $d_3 = 2$ and the previous digit's sum must be $11$, we have a similar situation in that either $d_2 = 9$ and there is no carry from the $d_1 + d_2$ digit, or else $d_2 = 8$ and there is a carry.
  For the same reason as before it must be that there \emph{is} a carry so that $d_2 = 8$.

  Now, there can be no carry from the least significant $d_0 + d_1$ digit because there is no way for this sum to reach $19$.
  Thus, we have that $d_1 + d_2 = d_1 + 8 = 11$ so that clearly $d_1 = 3$.
  Then of course $d_0 + d_1 = d_0 + 3 = 9$, and hence $d_0 = 6$.
  Therefore, the original number is $d_3 d_2 d_1 d_0 = 2836$, and indeed it is trivial to verify that $2836 + 283 = 3119$ as required.
}

\cproblem{9}{TODO}{\card@xxii@ix}{
  TODO
}

\cproblem{10}{TODO}{\card@xxii@x}{
  TODO
}

\cproblem{11}{TODO}{\card@xxii@xi}{
  TODO
}

\end{document}
